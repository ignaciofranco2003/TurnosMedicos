@TurnosMedicos_HostAddress = http://localhost:5293

# Documentación de endpoints - TurnosMedicos
# Variables
# - @TurnosMedicos_HostAddress: dirección base de la API

@TurnosMedicos_HostAddress = http://localhost:5293

############################################################
# Autenticación (ruta: /api/auth)
############################################################

### Registrar usuario
# Response example: JsonResponses/auth/register.200.json
# Response example (400): JsonResponses/auth/register.400.json
POST {{TurnosMedicos_HostAddress}}/api/auth/register
Content-Type: application/json

{
  "username": "admin",
  "password": "1234",
  "role": "Admin"
}

### Login (obtiene JWT)
# Response example: JsonResponses/auth/login.200.json
# Response example (401): JsonResponses/auth/login.401.json
POST {{TurnosMedicos_HostAddress}}/api/auth/login
Content-Type: application/json

{
  "username": "admin",
  "password": "1234"
}

############################################################
# Especialidades (ruta: /api/especialidades)
############################################################

### Listar todas las especialidades
# Response example: JsonResponses/especialidades/get_all.200.json
GET {{TurnosMedicos_HostAddress}}/api/especialidades
Authorization: Bearer <token>

### Obtener especialidad por id
# Response example: JsonResponses/especialidades/get_by_id.200.json
# Response example (404): JsonResponses/especialidades/get_by_id.404.json
GET {{TurnosMedicos_HostAddress}}/api/especialidades/1
Authorization: Bearer <token>

### Crear especialidad
# Response example: JsonResponses/especialidades/create.201.json
POST {{TurnosMedicos_HostAddress}}/api/especialidades
Content-Type: application/json
Authorization: Bearer <token>

{
  "NombreEspecialidad": "Cardiología"
}

### Actualizar especialidad
# Response example: JsonResponses/especialidades/update.200.json
PUT {{TurnosMedicos_HostAddress}}/api/especialidades/1
Content-Type: application/json
Authorization: Bearer <token>

{
  "NombreEspecialidad": "Cardiología Pediátrica"
}

### Eliminar especialidad
# Response example: JsonResponses/especialidades/delete.200.json
DELETE {{TurnosMedicos_HostAddress}}/api/especialidades/1
Authorization: Bearer <token>

############################################################
# Médicos (ruta: /api/medicos)
############################################################

### Listar todos los médicos
GET {{TurnosMedicos_HostAddress}}/api/medicos
Authorization: Bearer <token>

### Obtener médico por id
GET {{TurnosMedicos_HostAddress}}/api/medicos/1
Authorization: Bearer <token>

### Crear médico
POST {{TurnosMedicos_HostAddress}}/api/medicos
Content-Type: application/json
Authorization: Bearer <token>

{
  "Nombre": "Dra. Mariana Gutierrez",
  "DNI": "987654321",
  "Telefono": "011-1234-5678",
  "Matricula": "MP-12365",
  "DuracionTurnoMin": 30
}

### Actualizar médico
PUT {{TurnosMedicos_HostAddress}}/api/medicos/1
Content-Type: application/json
Authorization: Bearer <token>

{
  "Nombre": "Dr. Juan P. Pérez",
  "DNI": "12345678",
  "Telefono": "011-1234-5678",
  "Matricula": "MP-12345",
  "DuracionTurnoMin": 30
}

### Eliminar médico
DELETE {{TurnosMedicos_HostAddress}}/api/medicos/1
Authorization: Bearer <token>

### Asignar especialidades al médico (por nombres)
# Response example (204): JsonResponses/medicos/set_especialidades.204.txt
# Response example (400): JsonResponses/medicos/set_especialidades.400.json
# Response example (404): JsonResponses/medicos/set_especialidades.404.json
POST {{TurnosMedicos_HostAddress}}/api/medicos/1/especialidades
Content-Type: application/json
Authorization: Bearer <token>

# Un solo nombre
{
  "EspecialidadesNombres": ["Cardiología"]
}

# Varios nombres
{
  "EspecialidadesNombres": ["Cardiología", "Pediatría", "Traumatología"]
}

############################################################
# Obras sociales (ruta: /api/obrassociales)
############################################################

### Listar todas las obras sociales
# Response example: JsonResponses/obrassociales/get_all.200.json
GET {{TurnosMedicos_HostAddress}}/api/obrassociales
Authorization: Bearer <token>

### Obtener obra social por id
# Response example: JsonResponses/obrassociales/get_by_id.200.json
# Response example (404): JsonResponses/obrassociales/get_by_id.404.json
GET {{TurnosMedicos_HostAddress}}/api/obrassociales/1
Authorization: Bearer <token>

### Crear obra social
# Response example: JsonResponses/obrassociales/create.201.json
POST {{TurnosMedicos_HostAddress}}/api/obrassociales
Content-Type: application/json
Authorization: Bearer <token>

{
  "Nombre": "ObraSocial Ejemplo"
}

### Actualizar obra social
# Response example: JsonResponses/obrassociales/update.200.json
PUT {{TurnosMedicos_HostAddress}}/api/obrassociales/1
Content-Type: application/json
Authorization: Bearer <token>

{
  "Nombre": "ObraSocial Ejemplo Actualizada"
}

### Eliminar obra social
# Response example: JsonResponses/obrassociales/delete.200.json
DELETE {{TurnosMedicos_HostAddress}}/api/obrassociales/1
Authorization: Bearer <token>

############################################################
# Pacientes (ruta: /api/pacientes)
############################################################

### Listar todos los pacientes
# Response example: JsonResponses/pacientes/get_all.200.json
GET {{TurnosMedicos_HostAddress}}/api/pacientes
Authorization: Bearer <token>

### Obtener paciente por id
# Response example: JsonResponses/pacientes/get_by_id.200.json
# Response example (404): JsonResponses/pacientes/get_by_id.404.json
GET {{TurnosMedicos_HostAddress}}/api/pacientes/1
Authorization: Bearer <token>

### Crear paciente
# Response example: JsonResponses/pacientes/create.201.json
POST {{TurnosMedicos_HostAddress}}/api/pacientes
Content-Type: application/json
Authorization: Bearer <token>

{
  "Nombre": "Juan López",
  "DNI": "87456121",
  "Telefono": "011-8765-4321",
  "TieneObraSocial": false
}

### Actualizar paciente
# Response example: JsonResponses/pacientes/update.200.json
PUT {{TurnosMedicos_HostAddress}}/api/pacientes/1
Content-Type: application/json
Authorization: Bearer <token>

{
  "Nombre": "María A. López",
  "DNI": "87654321",
  "Telefono": "011-8765-4321",
  "TieneObraSocial": true,
  "IdObraSocial": 1
}

### Eliminar paciente
# Response example: JsonResponses/pacientes/delete.200.json
DELETE {{TurnosMedicos_HostAddress}}/api/pacientes/3
Authorization: Bearer <token>

############################################################
# Turnos (ruta: /api/turnos)
############################################################

### Listar todos los turnos
# Response example: JsonResponses/turnos/get_all.200.json
GET {{TurnosMedicos_HostAddress}}/api/turnos
Authorization: Bearer <token>

### Obtener turno por id
# Response example: JsonResponses/turnos/get_by_id.200.json
# Response example (404): JsonResponses/turnos/get_by_id.404.json
GET {{TurnosMedicos_HostAddress}}/api/turnos/3
Authorization: Bearer <token>

### Obtener estados posibles de turno
# Response example: JsonResponses/turnos/get_estados.200.json
GET {{TurnosMedicos_HostAddress}}/api/turnos/estados
Authorization: Bearer <token>

### Crear turno
# Response example: JsonResponses/turnos/create.201.json
# Response example (400): JsonResponses/turnos/create.400.json
POST {{TurnosMedicos_HostAddress}}/api/turnos
Content-Type: application/json
Authorization: Bearer <token>

{
  "IdPaciente": 3,
  "IdMedico": 1,
  "Inicio": "2026-02-05T10:00:00",
  "Fin": "2026-02-05T10:30:00",
  "Estado": "Pendiente",
  "Observaciones": "Primera consulta"
}

### Actualizar turno
# Response example: JsonResponses/turnos/update.200.json
# Response example (400): JsonResponses/turnos/update.400.json
PUT {{TurnosMedicos_HostAddress}}/api/turnos/1
Content-Type: application/json
Authorization: Bearer <token>

{
  "IdPaciente": 1,
  "IdMedico": 1,
  "Inicio": "2026-02-05T10:00:00",
  "Fin": "2026-02-05T10:30:00",
  "Estado": "Confirmado",
  "Observaciones": "Cambió horario"
}

### Eliminar turno
# Response example: JsonResponses/turnos/delete.200.json
DELETE {{TurnosMedicos_HostAddress}}/api/turnos/1
Authorization: Bearer <token>
